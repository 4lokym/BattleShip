(()=>{"use strict";var t={56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},s=[],o=0;o<t.length;o++){var c=t[o],l=r.base?c[0]+r.base:c[0],h=i[l]||0,d="".concat(l," ").concat(h);i[l]=h+1;var u=n(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var v=a(p,r);r.byIndex=o,e.splice(o,0,{identifier:d,updater:v,references:1})}s.push(d)}return s}function a(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,a){var i=r(t=t||[],a=a||{});return function(t){t=t||[];for(var s=0;s<i.length;s++){var o=n(i[s]);e[o].references--}for(var c=r(t,a),l=0;l<i.length;l++){var h=n(i[l]);0===e[h].references&&(e[h].updater(),e.splice(h,1))}i=c}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},208:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(601),a=n.n(r),i=n(314),s=n.n(i)()(a());s.push([t.id,"* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n:root {\n  --cell: 3rem;\n  --gap: 0.2rem;\n  --board: calc((var(--cell) + var(--gap)) * 10 - var(--gap));\n  --def-cell: rgb(247, 247, 247);\n  --outline-cell: rgb(235, 235, 235);\n  --cell-hover: var(var(--outline-cell));\n  --cell-active: rgb(223, 223, 223);\n  --ship: rgb(155, 155, 155);\n  --ship-hover: rgb(172, 172, 172);\n  --ship-active: rgb(204, 204, 204);\n  --cross-height: calc(var(--cell)*2);\n  --miss: rgba(230, 230, 108, 0.63);\n  --miss-hover: rgb(224, 224, 160) ;\n  --center-right: calc((var(--cell)/2));\n  --center-top: calc(var(--cell)/2);\n  --miss-circle: rgb(156, 156, 100);\n}\n\nbody {\n  height: 100vh;\n  display: flex;\n  align-items: top;\n  justify-content: center;\n}\n\n.boards {\n  display: flex;\n  gap: 3rem;\n}\n\n.content{\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n.names{\n  display: flex;\n  padding: var(--cell);\n  padding-left: 0px;\n  align-self: stretch;\n  justify-content: center;\n  gap: calc(var(--cell)*2);\n\n  .name{\n    flex-grow: 1;\n    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;\n    font-size: var(--cell);\n  }\n\n}\n\n}\n\n.board {\n  height: var(--board);\n  width: var(--board);\n  background-color: var(--outline-cell);\n  display: flex;\n  flex-wrap: wrap;\n  gap: var(--gap);\n  transition-duration: 100ms;\n  transition: filter 500ms;\n\n\n}\n\n.cell {\n  height: var(--cell);\n  width: var(--cell);\n  background-color: var(--def-cell);\n  position: relative;\n  transition: background-color 300ms;\n}\n\n.cell-hov:hover{\n  background-color: var(--cell-hover);\n    cursor: pointer;\n}\n\n.cell-act:active{\n    background-color: var(--cell-active);\n}\n\n\n.ship{\n    background-color: var(--ship);\n    border: solid 1px black;\n    overflow: hidden;\n}\n\n.ship:hover{\n  background-color: var(--ship-hover);\n}\n\n/* .ship:active{\n  background-color: var(--ship-active);\n} */\n\n.sunk:after, .sunk:before{\n  content: \" \";\n  width: var(--gap);\n  height: var(--cross-height);\n  background-color: rgb(184, 118, 118);\n  position: absolute;\n  right: var(--center-right);\n  top: var(--center-top);\n\n\n}\n\n.sunk:after{\n  transform: translateX(50%) translateY(-50%) rotate(45deg);\n}\n\n.sunk:before{\n  transform: translateX(50%) translateY(-50%) rotate(-45deg);\n}\n\n.miss{\n  background-color: var(--miss);\n}\n\n.miss:hover{\n  background-color: var(--miss-hover);\n}\n\n.miss:after{\n  transform: translateX(50%) translateY(-50%);\n  content: \" \";\n  position: absolute;\n  background-color: var(--miss-circle);\n  height: calc(var(--gap)*2);\n  width: calc(var(--gap)*2);\n  top: var(--center-top);\n  right: var(--center-right);\n  border-radius: 10px;\n}\n\n.hide-board{\n  filter:blur(5px);\n}",""]);const o=s},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,a,i){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(r)for(var o=0;o<this.length;o++){var c=this[o][0];null!=c&&(s[c]=!0)}for(var l=0;l<t.length;l++){var h=[].concat(t[l]);r&&s[h[0]]||(void 0!==i&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=i),n&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=n):h[2]=n),a&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=a):h[4]="".concat(a)),e.push(h))}},e}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;var r=n(72),a=n.n(r),i=n(825),s=n.n(i),o=n(659),c=n.n(o),l=n(56),h=n.n(l),d=n(540),u=n.n(d),p=n(113),v=n.n(p),g=n(208),f={};f.styleTagTransform=v(),f.setAttributes=h(),f.insert=c().bind(null,"head"),f.domAPI=s(),f.insertStyleElement=u(),a()(g.A,f),g.A&&g.A.locals&&g.A.locals;class m{constructor(t){this.gameboard=t}}class b{constructor(){const t=new Array(10);for(let e=0;e<10;e++)t[e]=new Array(10);this.grid=t}#t(t,e,n,r=1,a=!0){for(let i=0;i<r;i++)a?this.grid[t+i][e]=n[i]:this.grid[t][e+i]=n[i];return this}posValid(t,e){return!(t>=this.grid.length||t<0||e>=this.grid[0].length||e<0||this.grid[t][e])}place(t,e,n,r=!0){if((!r||this.posValid(n.length-1+t,e))&&(r||this.posValid(t,n.length-1+e))&&this.posValid(t,e))return this.#t(t,e,n.status,n.length,r)}atPos(t,e){if(this.posValid(t,e))return this.grid[t][e];throw new Error("Coordinates out of the board")}receiveAttack(t,e){const n=this.grid[t][e];return n?n.sunk||n.ship.hitShip(n.offset):this.grid[t][e]={miss:!0},this.grid[t][e]}allSunk(){for(let t=0;t<this.grid.length;t++)for(let e=0;e<this.grid[0].length;e++)if(this.grid[t][e]&&this.grid[t][e].ship&&!1===this.grid[t][e].ship.sunk)return!1;return!0}}class w{constructor(t={},e){this.player=t,this.DOMContainer=e}fromCellToDOM(t,e=!1,n=!1){const r=document.createElement("div");return r.classList.add("cell"),r.classList.add("cell-hov"),r.classList.add("cell-act"),t&&Object.hasOwn(t,"miss")?r.classList.add("miss"):t&&Object.hasOwn(t,"sunk")&&(e||r.classList.add("ship"),t.sunk&&(r.classList.add("ship"),r.classList.add("sunk"))),n&&w.cellDisable(r),r}static cellDisable(t){t.classList.remove("cell-hov"),t.classList.remove("cell-act")}static cellEnable(t){t.classList.add("cell-hov"),t.classList.add("cell-act")}buildBoard(t,e=!1,n=!1){const r=[];for(let a=0;a<t.length;a++)for(let i=0;i<t[0].length;i++){let s=this.fromCellToDOM(t[a][i],e,n);s.id=`RC${a}${i}`,r.push(s)}return r}printBoard(t,e=this.DOMContainer){for(let n=0;n<t.length;n++)e.appendChild(t[n]);return this}removeBoard(t=this.DOMContainer){t.innerHTML=""}updateBoard(t=!1,e=this.DOMContainer){this.removeBoard(e);const n=this.player.gameboard.grid;this.printBoard(this.buildBoard(n,t),e)}updateWhiteBoard(t){this.removeBoard(this.DOMContainer);const e=new Array(10);for(let t=0;t<e.length;t++)e[t]=new Array(10);this.printBoard(this.buildBoard(e,!1,t),this.DOMContainer)}clickable(t){return t.classList.contains("cell")&&!t.classList.contains("sunk")&&!t.classList.contains("miss")}getIdFromDomCell(t){return!!t&&[t.id.slice(2,3),t.id.slice(3)]}click(t){if(this.clickable(t)){const[e,n]=this.getIdFromDomCell(t);this.player.gameboard.receiveAttack(e,n),this.updateBoard(!0)}}}class y{hit=0;sunk=!1;constructor(t=1,e=!0){this.length=t,this.status=new Array(t);for(let e=0;e<t;e++)this.status[e]=new k(this,e);this.orizzontal=e}hitIncr(){return this.hit<this.length&&this.hit++,this.hit}hitAt(t){return t>=0&&t<this.length&&(this.status[t].sunk=!0),this.status}hitShip(t=0){return this.hitIncr(),this.hitAt(t),this.updateSunk(),this.status[t]}isSunk(){return this.hit===this.length}updateSunk(){this.sunk=this.isSunk()}}class k{constructor(t,e=0,n=!1){this.ship=t,this.sunk=n,this.offset=e}}class O{constructor(t,e){this.DOMGameBoard1=t,this.DOMGameBoard2=e,this.switch1=new M(!0,t),this.switch2=new M(!1,e,this.switch1),this.switch1.setOther(this.switch2)}init(){this.connectEvent(this.DOMGameBoard1,this.switch2),this.connectEvent(this.DOMGameBoard2,this.switch1)}connectEvent(t,e){t.DOMContainer.addEventListener("click",(n=>{n.target.classList.contains("cell")&&t.clickable(n.target)&&this.actions(n.target,e)}))}actions(t,e){const n=e.other.data;e.active&&(e.setOff(),n.click(t),this.transitScreen(e))}transitScreen(t){this.DOMGameBoard1.updateBoard(!0),this.DOMGameBoard2.updateBoard(!0),this.DOMGameBoard1.DOMContainer.classList.add("hide-board"),this.DOMGameBoard2.DOMContainer.classList.add("hide-board"),setTimeout((()=>{this.nextTurn(t)}),1e3)}nextTurn(t){t.flip(),this.DOMGameBoard1.DOMContainer.classList.remove("hide-board"),this.DOMGameBoard2.DOMContainer.classList.remove("hide-board"),t.data.updateBoard(!0),t.other.data.updateBoard()}}class M{constructor(t=!0,e=null,n=null){if(n&&!(n instanceof M))throw new Error("argument is not a switch");this.active=t,this.other=n,this.last=t,this.data=e}flip(){!1===this.active&&!1===this.other.active?(this.active=!this.last,this.other.active=!this.active):(this.last=this.active,this.active=!this.active,this.other.active=!this.other.active)}setOff(){this.last=this.active,this.active=!1,this.other.active=!1}setOther(t){if(!(t instanceof M))throw new Error("argument is not a switch");this.other=t}}!function(){const[t,e]=document.querySelectorAll(".board"),[n,r]=[new m(new b),new m(new b)],a=new w(n,t),i=new w(r,e);a.player.gameboard.place(1,1,new y(3,!1),!1),a.player.gameboard.place(3,1,new y(2,!0),!0),a.player.gameboard.place(3,7,new y(2,!0),!0),a.player.gameboard.place(8,1,new y),a.player.gameboard.place(9,8,new y),a.player.gameboard.place(4,4,new y),i.player.gameboard.place(1,1,new y(3,!1),!1),i.player.gameboard.place(3,1,new y(2,!0),!0),i.player.gameboard.place(3,7,new y(2,!0),!0),i.player.gameboard.place(8,1,new y),i.player.gameboard.place(9,8,new y),i.player.gameboard.place(4,4,new y),i.updateWhiteBoard(),a.updateBoard(),new O(a,i).init()}(),new class{constructor(t){}}([1,2,3,4,5])})();